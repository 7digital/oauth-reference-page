<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="css/oauth.css">
    <title>OAuth 1.0 Signature Reference Implementation</title>
  </head>

  <body>
    <h1 class="title">OAuth 1.0 Signature Reference Implementation</h1>
    <form>
      <div class="parameters">
        <h2>Parameters</h2>
        <ul>
          <li>
            <label for="version">version (optional)</label>
            <input id="version" class="small" type="text" data-bind="value: parameters.version">
          </li>
          <li>
            <label for="method">method</label>
            <select id="method" data-bind="options: methodOptions, value: parameters.method"></select>
          </li>
          <li>
            <label for="url">url</label>
            <input id="url" class="large" type="text" data-bind="value: parameters.url, valueUpdate: 'keyup'">
          </li>
          <li>
            <label for="consumer-key">consumer key</label>
            <input id="consumer-key" type="text" data-bind="value: parameters.consumerKey, valueUpdate: 'keyup'">
          </li>
          <li>
            <label for="consumer-secret">consumer secret</label>
            <input id="consumer-secret" type="text" data-bind="value: parameters.consumerSecret, valueUpdate: 'keyup'">
          </li>
          <li>
            <label for="token">token (optional)</label>
            <input id="token" type="text" data-bind="value: parameters.token, valueUpdate: 'keyup'">
          </li>
          <li>
            <label for="token-secret">token secret (optional)</label>
            <input id="token-secret" type="text" data-bind="value: parameters.tokenSecret, valueUpdate: 'keyup'">
          </li>
          <li>
            <label for="nonce">nonce</label>
            <input id="nonce" type="text" data-bind="value: parameters.nonce, valueUpdate: 'keyup'">
            <a href="#" data-bind="click: newNonce">new</a>
            <button class="left-margin" data-bind="click: function () {
              refreshTimestamp();
              newNonce();
            }">Refresh both</button>
          </li>
          <li>
            <label for="timestamp">timestamp</label>
            <input id="timestamp" type="text" data-bind="value: parameters.timestamp, valueUpdate: 'keyup'">
            <a href="#" data-bind="click: refreshTimestamp">refresh</a>
          </li>
          <li>
            <label>fields</label>
            <div id="fields" data-bind="foreach: parameters.fields" class="fields">
              <div>
                <label>name</label>
                <input class="field-name" type="text" data-bind="value: name, valueUpdate: 'keyup'">
                <label>value</label>
                <input class="field-value" type="text" data-bind="value: value, valueUpdate: 'keyup'">
                <a href="#" data-bind="click: $parent.parameters.removeField">remove</a>
              </div>
            </div>
            <button data-bind="click: parameters.addField">add</button>
          </li>
          <li>
            <label for="body">body (optional)</label>
            <textarea id="body" class="body" data-bind="value: parameters.body, valueUpdate: 'keyup'"></textarea>
          </li>
          <li>
            <label for="body-encoding">body encoding</label>
            <select id="body-encoding" data-bind="options: encodingOptions, value: parameters.bodyEncoding"></select>
          </li>
        </ul>
      </div>
      <div class="signature">
        <h2>Signature</h2>
        <ul>
          <li>
            <label for="query-string">query string</label>
            <textarea id="query-string" readonly data-bind="value: signature.queryString"></textarea>
          </li>
          <li>
            <label for="base-string">base string</label>
            <textarea id="base-string" readonly data-bind="value: signature.baseString"></textarea>
          </li>
          <li>
            <label for="hmac-key">hmac key</label>
            <input id="hmac-key" class="large" type="text" readonly data-bind="value: signature.hmacKey">
          </li>
          <li>
            <label for="base64-signature">un-encoded base64 signature</label>
            <input id="base64-signature" class="large" type="text" readonly data-bind="value: signature.base64Signature">
          </li>
          <li>
            <label for="signature">signature</label>
            <input id="signature" class="large" type="text" readonly data-bind="value: signature.signature">
          </li>
          <li>
            <label for="authorization-header">authorization header</label>
            <textarea id="authorization-header" readonly data-bind="value: signature.authorizationHeader"></textarea>
          </li>
          <li>
            <label for="actual-url">actual url (if different)</label>
            <input id="actual-url" class="large" data-bind="value: parameters.actualUrl, valueUpdate: 'keyup'" />
          </li>
          <li>
            <a target="signed_request" data-bind="
                attr: {href: signature.signedUrl},
                text: signature.prettySignedUrl,
                visible: parameters.method() === 'GET'
            "></a>
          </li>
          <li class="curl-options">
            <div class="output">
              <label for="output">output file</label>
              <input id="output" type="text" data-bind="value: parameters.curlParameters.output, valueUpdate: 'keyup'" />
            </div>
            <div class="verbose">
              <label for="verbose">verbose</label>
              <input id="verbose" type="checkbox" data-bind="checked: parameters.curlParameters.verbose" />
            </div>
          </li>
          <li>
            <label>headers</label>
            <div id="headers" data-bind="foreach: parameters.headers" class="headers">
              <div>
                <label>name</label>
                <input class="header-name" type="text" data-bind="value: name, valueUpdate: 'keyup'">
                <label>value</label>
                <input class="header-value" type="text" data-bind="value: value, valueUpdate: 'keyup'">
                <a href="#" data-bind="click: $parent.parameters.removeHeader">remove</a>
              </div>
            </div>
            <button data-bind="click: parameters.addHeader">add</button>
          </li>
          <li>
            <label for="curl">curl</label>
            <textarea id="curl" class="curl" readonly data-bind="text: signature.curl"></textarea>
          </li>
        </ul>
      </div>
    </form>

    <script src="lib/underscore-min.js" type="text/javascript"></script>
    <script src="lib/cryptojs/hmac-sha1.js" type="text/javascript"></script>
    <script src="lib/cryptojs/enc-base64-min.js" type="text/javascript"></script>
    <script src="lib/knockout.js"></script>
    <script src="lib/url.min.js" type="text/javascript"></script>
    <script src="lib/oauth-signature.js" type="text/javascript"></script>
    <script src="oauth.js" type="text/javascript"></script>
    <script src="ui.js" type="text/javascript"></script>
  </body>
</html>
